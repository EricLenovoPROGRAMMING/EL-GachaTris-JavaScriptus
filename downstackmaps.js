function createmapDA(number,pieceet,flipboolRNG,difficulty) {
 setPattern = ~~(Math.min(Math.round(number * 1),1).toFixed(0))
 piececolor = ~~(Math.round(pieceet * 5).toFixed(0))
 flip = Math.round(flipboolRNG * 1.4) == 1
 /*0 is beginner*/
 if (difficulty >= 0 && difficulty < 4) {
  if (piececolor == 0) {
   if (setPattern == 0) {
    var map = [
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0],
			 [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],
				];
    if (!flip) { flipgridcreate(map) } else { gridcreate(map) }
    preview.grabBag = [0,0,0,0,0,0,0,0,0,0,0,0,0,0]
    requirelines = 4
   }
   if (setPattern == 1) {
    var map = [
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0],
			 [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],
				];
    if (!flip) { flipgridcreate(map) } else { gridcreate(map) }
    preview.grabBag = [0,0,0,0,0,0,0,0,0,0,0,0,0,0]

    requirelines = 4
   }

  }
  if (piececolor == 1) {
   if (setPattern == 0) {
    if (!flip) {
     var P = 2
     var mapJ = [
						[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,0,P,0,P],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,0,P,0,P],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
					 [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
						];

     flipgridcreate(mapJ)
     preview.grabBag = [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]

    } else {
     var P = 3
     var mapL = [
							[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
							[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
							[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
							[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
							[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,0,P,0,P],
							[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,0,P,0,P],
							[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
						 [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
							[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
							[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
							];
     gridcreate(mapL)
     preview.grabBag = [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2]
    }
    requirelines = 6
   }
   if (setPattern == 1) {
    if (!flip) {
     var P = 2
     var mapJ = [
															[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P],
															[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P],
															[0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P],
															[0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P],
															[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P],
															[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,P,P,0,P,P,P],
															[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,0,P,P,P],
														 [0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,0,0,P,P],
															[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,0,0,0],
															[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,0,P,P],
															];

     gridcreate(mapJ)
     preview.grabBag = [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]

    } else {
     var P = 3
     var mapL = [
										[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P],
										[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P],
										[0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P],
										[0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P],
										[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P],
										[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,P,P,0,P,P,P],
										[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,0,P,P,P],
									 [0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,0,0,P,P],
										[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,0,0,0],
										[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,0,P,P],
										];
     flipgridcreate(mapL)
     preview.grabBag = [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2]
    }
    requirelines = 9
   }

  }
  if (piececolor == 2) {
   var P = 4
   if (setPattern == 0) {
    var map = [
									[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
									[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
									[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P],
									[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P],
									[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,0,P,P],
									[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,0,P,P],
									[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,0],
								 [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,0],
									[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
									[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
									];
    if (!flip) { flipgridcreate(map) } else { gridcreate(map) }
    preview.grabBag = [3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3]
    requirelines = 6
   }
   if (setPattern == 1) {
    var map = [
													[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
													[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
													[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P],
													[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P],
													[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,0],
													[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,0],
													[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,0,P,P],
												 [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,0,P,P],
													[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
													[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
													];
    if (!flip) { flipgridcreate(map) } else { gridcreate(map) }
    preview.grabBag = [3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3]
    requirelines = 6
   }

  }
  if (piececolor == 3) {
   if (setPattern == 0) {
    if (!flip) {
     var P = 5 //green
     var mapS = [
						[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],//10
						[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
					 [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],//1
						];

     flipgridcreate(mapS)
     preview.grabBag = [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4]

    } else {
     var P = 7 //red
     var mapZ = [
											[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],//10
											[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P],
											[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
											[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
											[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
											[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
											[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
										 [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
											[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
											[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],//1
											];
     gridcreate(mapZ)
     preview.grabBag = [6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]
    }
    requirelines = 6
   }
   if (setPattern == 1) {
    if (!flip) {
     var P = 5
     var mapS = [
							[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,0],//10
							[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,P],
							[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
							[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
							[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,0,P,P],
							[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,P,P,P],
							[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
						 [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
							[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P],
							[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P],//1
							];

     flipgridcreate(mapS)
     preview.grabBag = [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4]

    } else {
     var P = 7
     var mapZ = [
											[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,0],//10
											[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,P],
											[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
											[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
											[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,0,P,P],
											[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,P,P,P],
											[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
										 [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
											[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P],
											[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P],//1
											];
     gridcreate(mapZ)
     preview.grabBag = [6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]

    }
    requirelines = 6
   }

  }
  if (piececolor == 4) {
   if (setPattern == 0) {
    if (!flip) {
     var P = 5 //green

     var mapS = [
  																				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,0],//10
  																				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,P],
  																				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
  																				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
  																				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,0,P,P],
  																				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,P,P,P],
  																				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
  																			 [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
  																				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P],
  																				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P],//1
  																				];

     flipgridcreate(mapS)
     preview.grabBag = [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4]

    } else {
     var P = 7 //red

     var mapZ = [
  						  																				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,0],//10
  						  																				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,P],
  						  																				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
  						  																				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
  						  																				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,0,P,P],
  						  																				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,P,P,P],
  						  																				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
  						  																			 [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
  						  																				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P],
  						  																				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P],//1
  						  																				];

     gridcreate(mapZ)
     preview.grabBag = [6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]
    }
    requirelines = 6
   }
   if (setPattern == 1) {
    if (!flip) {
     var P = 5
     var Z = 7
     var mapS = [
  								[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,Z,Z,0,0],//10
  								[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,Z,Z,0,P],
  								[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,Z,Z,P,P],
  								[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,Z,Z,P,P],
  								[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,Z,P,P],
  								[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,0,P,P],
  								[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,Z,Z,P,P],
  							 [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,Z,Z,P,P],
  								[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,Z,Z,P,P],
  								[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,Z,Z,P,P],//1
  								];

     flipgridcreate(mapS)
     preview.grabBag = [4,6,4,6,4,6,4,6,4,6,4,6,4,6,4,6,4,6,4,6,4]



    } else {
     var P = 7
     var Z = 5
     var mapZ = [
  	  	  								[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,Z,Z,0,0],//10
  	  	  								[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,Z,Z,0,P],
  	  	  								[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,Z,Z,P,P],
  	  	  								[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,Z,Z,P,P],
  	  	  								[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,Z,P,P],
  	  	  								[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,0,P,P],
  	  	  								[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,Z,Z,P,P],
  	  	  							 [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,Z,Z,P,P],
  	  	  								[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,Z,Z,P,P],
  	  	  								[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,Z,Z,P,P],//1
  	  	  								];
     gridcreate(mapZ)
     preview.grabBag = [6,4,6,4,6,4,6,4,6,4,6,4,6,4,6,4,6,4,6,4,6,4]


    }
    requirelines = 6
   }

  }
  if (piececolor == 5) {
   var P = 6
   if (setPattern == 0) {

    var map = [
  			  																				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,P],//10
  			  																				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,0],
  			  																				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
  			  																				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
  			  																				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,P,P,P],
  			  																				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,0,P,P],
  			  																				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
  			  																			 [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
  			  																				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P],
  			  																				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P],//1
  			  																				];

    if (!flip) { flipgridcreate(map) } else { gridcreate(map) }
    preview.grabBag = [5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5]
    requirelines = 6
   }
   if (setPattern == 1) {
    var map = [
  		  																				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,P],//10
  		  																				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,0],
  		  																				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,P],
  		  																				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,P,P,P],
  		  																				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,0,P,P],
  		  																				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,P,P,P],
  		  																				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
  		  																			 [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P],
  		  																				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P],
  		  																				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P],//1
  		  																				];
    if (!flip) { flipgridcreate(map) } else { gridcreate(map) }
    preview.grabBag = [5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5]

    requirelines = 6
   }

  }
 }
 if (difficulty >= 4 && difficulty < 7) {
  if (piececolor == 0) {
   if (setPattern == 0) {
    var map = [
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0],
			 [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1],
				];
    if (!flip) { flipgridcreate(map) } else { gridcreate(map) }
    preview.grabBag = [0,0,0,0,0,0,0,0,0,0,0,0,0,0]
    requirelines = 6
   }
   if (setPattern == 1) {
    var map = [
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,1,1],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,1,0],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0],
			 [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,1],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1],
				];
    if (!flip) { flipgridcreate(map) } else { gridcreate(map) }
    preview.grabBag = [0,0,0,0,0,0,0,0,0,0,0,0,0,0]

    requirelines = 6
   }

  }
  if (piececolor == 1) {
   if (setPattern == 0) {
    if (!flip) {
     var P = 2
     var mapJ = [
	[0,0,0,0,0,0,0,0,0,0,0,0,P,0,0,P,0,0,P,P,0,0],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,0,P,P,0,P,P,P,0,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,0,P,P,0,P,P,P,0,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P],
 [0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,0,0,P,0,0,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,P,P,0,P,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,P,P,0,P,P,P],
	];

     flipgridcreate(mapJ)
     preview.grabBag = [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]

    } else {
     var P = 3
     var mapL = [
	[0,0,0,0,0,0,0,0,0,0,0,0,P,0,0,P,0,0,P,P,0,0],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,0,P,P,0,P,P,P,0,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,0,P,P,0,P,P,P,0,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P],
 [0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,0,0,P,0,0,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,P,P,0,P,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,P,P,0,P,P,P],
	];
     gridcreate(mapL)
     preview.grabBag = [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2]
    }
    requirelines = 10
   }
   if (setPattern == 1) {
    if (!flip) {
     var P = 2
     var mapJ = [
					[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P],
					[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P],
					[0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P],
					[0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P],
					[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P],
					[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,0,0,0,P,P,P],
					[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,0,0,0,0,P,P],
				 [0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,0,0,0,P],
					[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,0,0,0,0],
					[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,0,P,P],
					];

     gridcreate(mapJ)
     preview.grabBag = [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]

    } else {
     var P = 3
     var mapL = [
										[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P],
										[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P],
										[0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P],
										[0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P],
										[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P],
										[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,0,0,0,P,P,P],
										[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,0,0,0,0,P,P],
									 [0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,0,0,0,P],
										[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,0,0,0,0],
										[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,0,P,P],
										];
     flipgridcreate(mapL)
     preview.grabBag = [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2]
    }
    requirelines = 9
   }

  }
  if (piececolor == 2) {
   if (setPattern == 0) {
    if (!flip) {
     var P = 2
     var I = 3
     var mapJ = [
		[0,0,0,0,0,0,0,0,0,0,0,0,P,0,I,P,0,P,P,P,0,I],
		[0,0,0,0,0,0,0,0,0,0,0,0,P,0,I,P,0,P,P,P,0,I],
		[0,0,0,0,0,0,0,0,0,0,0,0,P,0,0,P,0,0,P,P,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,I,P,P,I,I],
		[0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,I,P,P,I,I],
		[0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,I,P,P,I,I],
		[0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,I,P,P,I,I],
	 [0,0,0,0,0,0,0,0,0,0,0,0,0,0,I,0,0,I,0,0,I,I],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,P,I,0,P,I,0,P,I,I],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,P,I,0,P,I,0,P,I,I],
		];

     flipgridcreate(mapJ)
     preview.grabBag = [1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2]

    } else {
     var P = 3
     var I = 2
     var mapL = [
						[0,0,0,0,0,0,0,0,0,0,0,0,P,0,I,P,0,P,P,P,0,I],
						[0,0,0,0,0,0,0,0,0,0,0,0,P,0,I,P,0,P,P,P,0,I],
						[0,0,0,0,0,0,0,0,0,0,0,0,P,0,0,P,0,0,P,P,0,0],
						[0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,I,P,P,I,I],
						[0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,I,P,P,I,I],
						[0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,I,P,P,I,I],
						[0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,I,P,P,I,I],
					 [0,0,0,0,0,0,0,0,0,0,0,0,0,0,I,0,0,I,0,0,I,I],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,P,I,0,P,I,0,P,I,I],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,P,I,0,P,I,0,P,I,I],
						];
     gridcreate(mapL)
     preview.grabBag = [2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1]
    }
    requirelines = 10
   }
   if (setPattern == 1) {
    if (!flip) {
     var P = 2
     var I = 3
     var mapJ = [
						[0,0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,0,0,0,I],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,0,I,I,I],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,0,I,I,P,I,P,I,I,I],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,0,I,I,0,0,0,I,I,I],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,I,0,P,P,I,I,I],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,P,0,0,P,0,P,I,I,I],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,P,0,I,P,0,0,0,I,I],
					 [0,0,0,0,0,0,0,0,0,0,0,0,0,P,0,I,P,I,P,I,I,I],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,P,0,I,I],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,P,0,0,0],
						];

     gridcreate(mapJ)
     preview.grabBag = [1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1]


    } else {
     var P = 3
     var I = 2
     var mapL = [
										[0,0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,0,0,0,I],
										[0,0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,0,I,I,I],
										[0,0,0,0,0,0,0,0,0,0,0,0,0,0,I,I,P,I,P,I,I,I],
										[0,0,0,0,0,0,0,0,0,0,0,0,0,0,I,I,0,0,0,I,I,I],
										[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,I,0,P,P,I,I,I],
										[0,0,0,0,0,0,0,0,0,0,0,0,0,P,0,0,P,0,P,I,I,I],
										[0,0,0,0,0,0,0,0,0,0,0,0,0,P,0,I,P,0,0,0,I,I],
									 [0,0,0,0,0,0,0,0,0,0,0,0,0,P,0,I,P,I,P,I,I,I],
										[0,0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,P,0,I,I],
										[0,0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,P,0,0,0],
										]
     flipgridcreate(mapL)
     preview.grabBag = [2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1]

    }
    requirelines = 9
   }
  }
  if (piececolor == 3) {
   if (setPattern == 0) {
    if (!flip) {
     var P = 5 //green
     var mapS = [
						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,0,0,0,0,0],//10
						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,0,0,0,0,P],
						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P],
						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P],
						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P],
						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P],
						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P],
					 [0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P],//1
						];

     flipgridcreate(mapS)
     preview.grabBag = [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4]

    } else {
     var P = 7 //red
     var mapZ = [
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,0,0,0,0,0],//10
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,0,0,0,0,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P],
 [0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P],//1
	];
     gridcreate(mapZ)
     preview.grabBag = [6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]
    }
    requirelines = 10
   }
   if (setPattern == 1) {
    if (!flip) {
     var P = 5
     var mapS = [
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,0,0],//10
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,0,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,0,0,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,0,P,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,0,P,P,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,P,P,P,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,0,P,P,P,P,P,P],
 [0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,P,P,P,P,P,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P],//1
	];

     flipgridcreate(mapS)
     preview.grabBag = [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4]

    } else {
     var P = 7
     var mapZ = [
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,0,0],//10
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,0,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,0,0,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,0,P,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,0,P,P,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,P,P,P,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,0,P,P,P,P,P,P],
 [0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,P,P,P,P,P,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P],//1
	];
     gridcreate(mapZ)
     preview.grabBag = [6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]

    }
    requirelines = 10
   }

  }
  if (piececolor == 4) {
   if (setPattern == 0) {
    if (!flip) {
     var P = 5 //green
     var Z = 7 //red
     var mapS = [
  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,0,0,Z,P,P],//10
  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,0,0,0,P,P],
  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,Z,Z,Z,Z,P,P],
  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,Z,Z,Z,Z,P,P],
  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,Z,Z,Z,Z,0,0],
  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,Z,Z,Z,Z,0,P],
  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,Z,Z,Z,Z,P,P],
  					 [0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,Z,Z,Z,Z,P,P],
  						[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,Z,Z,Z,Z,P,P],
  						[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,Z,Z,Z,Z,P,P],//1
  						];

     flipgridcreate(mapS)
     preview.grabBag = [4,4,6,6,4,4,6,6,4,4,6,6,4,4,6,6,4,4,6,6,4,4,6,6]

    } else {
     var P = 7 //red
     var Z = 5 //green
     var mapZ = [
  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,0,0,Z,P,P],//0
  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,0,0,0,P,P],
  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,Z,Z,Z,Z,P,P],
  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,Z,Z,Z,Z,P,P],
  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,Z,Z,Z,Z,0,0],
  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,Z,Z,Z,Z,0,P],
  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,Z,Z,Z,Z,P,P],
  					 [0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,Z,Z,Z,Z,P,P],
  						[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,Z,Z,Z,Z,P,P],
  						[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,Z,Z,Z,Z,P,P],//10
  						];

     gridcreate(mapZ)
     preview.grabBag = [6,6,4,4,6,6,4,4,6,6,4,4,6,6,4,4,6,6,4,4,6,6,4,4,6,6]
    }
    requirelines = 10
   }
   if (setPattern == 1) {
    if (!flip) {
     var P = 5
     var Z = 7
     var mapS = [
  	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,Z,Z,P,P,Z,Z,0,0],//10
  	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,Z,Z,P,P,Z,Z,0,P],
  	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,Z,Z,P,P,0,Z,P,P],
  	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,Z,Z,P,P,0,0,P,P],
  	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,Z,Z,0,0,Z,Z,P,P],
  	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,Z,Z,0,P,Z,Z,P,P],
  	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,Z,P,P,Z,Z,P,P],
   [0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,0,P,P,Z,Z,P,P],
  	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,Z,Z,P,P,Z,Z,P,P],
  	[0,0,0,0,0,0,0,0,0,0,0,0,0,P,Z,Z,P,P,Z,Z,P,P],//1
  	];

     flipgridcreate(mapS)
     preview.grabBag = [4,6,4,6,4,6,4,6,4,6,4,6,4,6,4,6,4,6,4,6,4]



    } else {
     var P = 7
     var Z = 5
     var mapZ = [
  	  	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,Z,Z,P,P,Z,Z,0,0],//10
  	  	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,Z,Z,P,P,Z,Z,0,P],
  	  	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,Z,Z,P,P,0,Z,P,P],
  	  	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,Z,Z,P,P,0,0,P,P],
  	  	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,Z,Z,0,0,Z,Z,P,P],
  	  	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,Z,Z,0,P,Z,Z,P,P],
  	  	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,Z,P,P,Z,Z,P,P],
  	   [0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,0,P,P,Z,Z,P,P],
  	  	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,Z,Z,P,P,Z,Z,P,P],
  	  	[0,0,0,0,0,0,0,0,0,0,0,0,0,P,Z,Z,P,P,Z,Z,P,P],//1
  	  	];
     gridcreate(mapZ)
     preview.grabBag = [6,4,6,4,6,4,6,4,6,4,6,4,6,4,6,4,6,4,6,4,6,4]


    }
    requirelines = 10
   }

  }
  if (piececolor == 5) {
   var P = 6
   if (setPattern == 0) {

    var map = [
  			[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,0,P],
  			[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,0,0],
  			[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,0,P,0,P],
  			[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,0,0,P,P],
  			[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,P,0,P,P,P],
  			[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,0,P,P,P,P],
  			[0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,P,0,P,P,P,P,P],
  		 [0,0,0,0,0,0,0,0,0,0,0,0,0,P,0,0,P,P,P,P,P,P],
  			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P],
  			[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P],
  			];

    if (!flip) { flipgridcreate(map) } else { gridcreate(map) }
    preview.grabBag = [5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5]
    requirelines = 10
   }
   if (setPattern == 1) {
    var map = [
  					[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,0,P],
  					[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,0,0],
  					[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,0,P,P,P],
  					[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,0,0,P,P],
  					[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,P,0,P,P,P],
  					[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,0,P,P,P,P],
  					[0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,P,P,P,P,P,P,P],
  				 [0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,0,P,P,P,P,P,P],
  					[0,0,0,0,0,0,0,0,0,0,0,0,0,P,0,P,P,P,P,P,P,P],
  					[0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P],
  					];
    if (!flip) { flipgridcreate(map) } else { gridcreate(map) }
    preview.grabBag = [5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5]

    requirelines = 10
   }

  }
 }

 if (difficulty >= 10 && difficulty < 13) {
  if (piececolor == 0) {
   var P = 1
   if (setPattern == 0) {

    var map = [
					[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,0,P,P,P,P,P,P],
					[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,0,P,P,P,P,P,P],
					[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P],
					[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,0,P,P,0,P,P,P],
					[0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,P,0,0,0,0,P,P],
					[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,0,P,P,P],
					[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,0,P,0,P],
				 [0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,0,P],
					[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,0,P,0,0,0],
					[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,0,P],
					];
    if (flip) { flipgridcreate(map) } else { gridcreate(map) }
    preview.grabBag = [0,0,0,0,0,0,0,0,0,0,0,0,0,0]

    requirelines = 10
   }
   if (setPattern == 1) {
    var map = [
					[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P],
					[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,0,P,P,P],
					[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,0,P,P,P],
					[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,0,0,0,0,P,P],
					[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,0,P,P,0,P,P,P],
					[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,0,P,P,P,P,P,P],
					[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,P,P],
				 [0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,0,0,0,P,0,0,0],
					[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,0,P,P],
					[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,0,P,P],
					];
    if (flip) { flipgridcreate(map) } else { gridcreate(map) }
    preview.grabBag = [0,0,0,0,0,0,0,0,0,0,0,0,0,0]

    requirelines = 10
   }


  }

  if (piececolor == 1) {
   if (setPattern == 0) {
    if (!flip) {
     var P = 2
     var mapJ = [
			  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P],
			  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P],
			  						[0,0,0,0,0,0,0,0,0,0,P,0,P,P,P,P,P,P,P,0,0,0],
			  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,P,P,0,P,P,P,0],
			  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,0,0,0,0,0,P,P],
			  						[0,0,0,0,0,0,0,0,0,0,0,0,P,0,0,0,0,0,0,P,P,P],
			  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,0,P,P,0,P,P,P],
			  					 [0,0,0,0,0,0,0,0,0,0,P,0,0,0,0,P,P,P,P,P,P,P],
			  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,P,P,P,P,P,P,P],
			  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P],
			  						];

     flipgridcreate(mapJ)
     preview.grabBag = [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]

    } else {
     var P = 3
     var mapL = [
						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P],
						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P],
						[0,0,0,0,0,0,0,0,0,0,P,0,P,P,P,P,P,P,P,0,0,0],
						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,P,P,0,P,P,P,0],
						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,0,0,0,0,0,P,P],
						[0,0,0,0,0,0,0,0,0,0,0,0,P,0,0,0,0,0,0,P,P,P],
						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,0,P,P,0,P,P,P],
					 [0,0,0,0,0,0,0,0,0,0,P,0,0,0,0,P,P,P,P,P,P,P],
						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,P,P,P,P,P,P,P],
						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P],
						];
     gridcreate(mapL)
     preview.grabBag = [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2]
    }
    requirelines = 10
   }
   if (setPattern == 1) {
    if (!flip) {
     var P = 2
     var mapJ = [
					[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P],
					[0,0,0,0,0,0,0,0,0,0,0,0,0,P,0,P,P,P,P,P,P,P],
					[0,0,0,0,0,0,0,0,0,0,0,0,0,P,0,0,P,P,P,P,P,P],
					[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,P,P,P,P,P,P],
					[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,0,P,P,0,0,0],
					[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,0,P,P],
					[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,0,0,P,P,P,P],
				 [0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,P,P,0,P],
					[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,0,0,0,P],
					[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P],
					];

     gridcreate(mapJ)
     preview.grabBag = [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]

    } else {
     var P = 3
     var mapL = [
															[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P],
															[0,0,0,0,0,0,0,0,0,0,0,0,0,P,0,P,P,P,P,P,P,P],
															[0,0,0,0,0,0,0,0,0,0,0,0,0,P,0,0,P,P,P,P,P,P],
															[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,P,P,P,P,P,P],
															[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,0,P,P,0,0,0],
															[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,0,P,P],
															[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,0,0,P,P,P,P],
														 [0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,P,P,0,P],
															[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,0,0,0,P],
															[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P],
															];
     flipgridcreate(mapL)
     preview.grabBag = [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2]
    }
    requirelines = 9
   }

  }

  if (piececolor == 2) {
   if (setPattern == 0) {
    if (!flip) {
     var P = 2
     var I = 3
     var mapJ = [
		[0,0,0,0,0,0,0,0,0,0,0,0,P,0,0,P,0,0,P,P,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,P,I,0,P,I,0,P,P,I,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,P,I,0,P,I,0,P,P,I,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,I,P,P,I,I],
		[0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,I,P,P,I,I],
		[0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,I,P,P,I,I],
		[0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,I,P,P,I,I],
	 [0,0,0,0,0,0,0,0,0,0,0,0,P,0,I,P,0,I,P,0,I,I],
		[0,0,0,0,0,0,0,0,0,0,0,0,P,0,I,P,0,I,P,0,I,I],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,I,0,0,I,0,0,I,I],
		];

     flipgridcreate(mapJ)
     preview.grabBag = [1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2]

    } else {
     var P = 3
     var I = 2
     var mapL = [
									[0,0,0,0,0,0,0,0,0,0,0,0,P,0,0,P,0,0,P,P,0,0],
									[0,0,0,0,0,0,0,0,0,0,0,0,P,I,0,P,I,0,P,P,I,0],
									[0,0,0,0,0,0,0,0,0,0,0,0,P,I,0,P,I,0,P,P,I,0],
									[0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,I,P,P,I,I],
									[0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,I,P,P,I,I],
									[0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,I,P,P,I,I],
									[0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,I,P,P,I,I],
								 [0,0,0,0,0,0,0,0,0,0,0,0,P,0,I,P,0,I,P,0,I,I],
									[0,0,0,0,0,0,0,0,0,0,0,0,P,0,I,P,0,I,P,0,I,I],
									[0,0,0,0,0,0,0,0,0,0,0,0,0,0,I,0,0,I,0,0,I,I],
									];
     gridcreate(mapL)
     preview.grabBag = [2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1]
    }
    requirelines = 10
   }
   if (setPattern == 1) {
    if (!flip) {
     var P = 2
     var I = 3
     var mapJ = [
						[0,0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,P,0,0,I],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,P,P,0,I],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,I,P,I,P,P,0,I],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,P,0,I,P,I,0,P,I,I],
						[0,0,0,0,0,0,0,0,0,0,0,I,0,P,0,I,0,0,0,P,I,I],
						[0,0,0,0,0,0,0,0,0,0,0,P,0,P,I,0,P,0,0,0,I,I],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,P,I,0,P,I,P,0,I,I],
					 [0,0,0,0,0,0,0,0,0,0,0,0,0,P,0,0,P,I,P,P,I,0],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,P,P,I,0],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,P,P,0,0],
						];

     gridcreate(mapJ)
     preview.grabBag = [1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1]


    } else {
     var P = 3
     var I = 2
     var mapL = [
						[0,0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,P,0,0,I],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,P,P,0,I],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,I,P,I,P,P,0,I],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,P,0,I,P,I,0,P,I,I],
						[0,0,0,0,0,0,0,0,0,0,0,I,0,P,0,I,0,0,0,P,I,I],
						[0,0,0,0,0,0,0,0,0,0,0,P,0,P,I,0,P,0,0,0,I,I],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,P,I,0,P,I,P,0,I,I],
					 [0,0,0,0,0,0,0,0,0,0,0,0,0,P,0,0,P,I,P,P,I,0],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,P,P,I,0],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,P,P,0,0],
						];

     flipgridcreate(mapL)
     preview.grabBag = [2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1]

    }
    requirelines = 9
   }
  }
  if (piececolor == 3) {
   if (setPattern == 0) {
    if (!flip) {
     var P = 5 //green
     var mapS = [
						[0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,0,P,0,P,0,P],//10
						[0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,0,0,0,0,0,0],
						[0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,0,P,0,P,0],
						[0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P,P],
						[0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P,P],
						[0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P,P],
						[0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P,P,P],
					 [0,0,0,0,0,0,0,0,0,0,0,P,0,0,0,P,P,P,P,P,P,P],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,P,0,0,P,P,P,P,P,P],
						[0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,P,P,P,P,P,P],//1
						];

     flipgridcreate(mapS)
     preview.grabBag = [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4]

    } else {
     var P = 7 //red
     var mapZ = [
						[0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,0,P,0,P,0,P],//10
						[0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,0,0,0,0,0,0],
						[0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,0,P,0,P,0],
						[0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P,P],
						[0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P,P],
						[0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P,P],
						[0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P,P,P],
					 [0,0,0,0,0,0,0,0,0,0,0,P,0,0,0,P,P,P,P,P,P,P],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,P,0,0,P,P,P,P,P,P],
						[0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,P,P,P,P,P,P],//1
						];

     gridcreate(mapZ)
     preview.grabBag = [6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]
    }
    requirelines = 11
   }
   if (setPattern == 1) {
    if (!flip) {
     var P = 5
     var mapS = [
								[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P],//10
								[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,0,0],
								[0,0,0,0,0,0,0,0,0,0,P,0,P,P,P,P,P,P,0,0,0,P],
								[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,P,0,0,P,P],
								[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,0,P,0,P,P],
								[0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,P,P,0,P,P,P,P],
								[0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,0,P,P,P,P,P,P],
							 [0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,P,P,P,P,P,P],
								[0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P],
								[0,0,0,0,0,0,0,0,0,0,0,0,P,0,P,P,P,P,P,P,P,P],//1
								];

     flipgridcreate(mapS)
     preview.grabBag = [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4]

    } else {
     var P = 7
     var mapZ = [
					[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P],//10
					[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,0,0],
					[0,0,0,0,0,0,0,0,0,0,P,0,P,P,P,P,P,P,0,0,0,P],
					[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,P,0,0,P,P],
					[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,0,P,0,P,P],
					[0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,P,P,0,P,P,P,P],
					[0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,0,P,P,P,P,P,P],
				 [0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,P,P,P,P,P,P],
					[0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P],
					[0,0,0,0,0,0,0,0,0,0,0,0,P,0,P,P,P,P,P,P,P,P],//1
					];
     gridcreate(mapZ)
     preview.grabBag = [6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]

    }
    requirelines = 10
   }

  }
  if (piececolor == 4) {
   if (setPattern == 0) {
    if (!flip) {
     var P = 7 //g
     var Z = 5 //
     var mapS = [
  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,Z,0,Z,P,P],//10
  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,0,0,0,P,P],
  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,Z,0,Z,0,P,P],
  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,Z,Z,Z,Z,P,0],
  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,Z,Z,Z,Z,0,0],
  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,Z,Z,Z,Z,0,P],
  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,Z,Z,Z,Z,P,P],
  					 [0,0,0,0,0,0,0,0,0,0,0,0,P,0,P,0,Z,Z,Z,Z,P,P],
  						[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,Z,Z,Z,Z,P,P],
  						[0,0,0,0,0,0,0,0,0,0,0,0,0,P,0,P,Z,Z,Z,Z,P,P],//1
  						];

     flipgridcreate(mapS)
     preview.grabBag = [6,6,4,4,6,6,4,4,6,6,4,4,6,6,4,4,6,6,4,4,6,6,4,4,6,6]

    } else {
     var P = 5 //
     var Z = 7 //
     var mapZ = [
  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,Z,0,Z,P,P],//0
  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,0,0,0,P,P],
  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,Z,0,Z,0,P,P],
  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,Z,Z,Z,Z,P,0],
  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,Z,Z,Z,Z,0,0],
  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,Z,Z,Z,Z,0,P],
  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,Z,Z,Z,Z,P,P],
  					 [0,0,0,0,0,0,0,0,0,0,0,0,P,0,P,0,Z,Z,Z,Z,P,P],
  						[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,Z,Z,Z,Z,P,P],
  						[0,0,0,0,0,0,0,0,0,0,0,0,0,P,0,P,Z,Z,Z,Z,P,P],//10
  						];

     gridcreate(mapZ)
     preview.grabBag = [4,4,6,6,4,4,6,6,4,4,6,6,4,4,6,6,4,4,6,6,4,4,6,6,4,4,6,6]
    }
    requirelines = 10
   }
   if (setPattern == 1) {
    if (!flip) {
     var P = 5
     var Z = 7
     var mapS = [
  	[0,0,0,0,0,0,0,0,0,0,0,Z,P,P,Z,Z,P,P,Z,Z,0,P],//10
  	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,Z,Z,P,P,Z,Z,0,0],
  	[0,0,0,0,0,0,0,0,0,0,Z,Z,P,P,Z,Z,P,P,Z,0,P,0],
  	[0,0,0,0,0,0,0,0,0,0,Z,Z,P,P,Z,Z,P,P,0,0,P,P],
  	[0,0,0,0,0,0,0,0,0,0,Z,Z,P,P,Z,Z,0,0,0,Z,P,P],
  	[0,0,0,0,0,0,0,0,0,0,Z,Z,P,P,Z,Z,0,P,Z,Z,P,P],
  	[0,0,0,0,0,0,0,0,0,0,Z,Z,P,P,Z,0,P,P,Z,Z,P,P],
   [0,0,0,0,0,0,0,0,0,0,Z,Z,P,P,0,0,P,P,Z,Z,P,P],
  	[0,0,0,0,0,0,0,0,0,0,Z,Z,0,0,0,Z,P,P,Z,Z,P,P],
  	[0,0,0,0,0,0,0,0,0,0,Z,Z,0,P,Z,Z,P,P,Z,Z,P,P],//1
  	];

     flipgridcreate(mapS)
     preview.grabBag = [6,4,6,4,6,4,6,4,6,4,6,4,6,4,6,4,6,4,6,4,6,4]



    } else {
     var P = 7
     var Z = 5
     var mapZ = [
  	  	  	[0,0,0,0,0,0,0,0,0,0,0,Z,P,P,Z,Z,P,P,Z,Z,0,P],//10
  	  	  	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,Z,Z,P,P,Z,Z,0,0],
  	  	  	[0,0,0,0,0,0,0,0,0,0,Z,Z,P,P,Z,Z,P,P,Z,0,P,0],
  	  	  	[0,0,0,0,0,0,0,0,0,0,Z,Z,P,P,Z,Z,P,P,0,0,P,P],
  	  	  	[0,0,0,0,0,0,0,0,0,0,Z,Z,P,P,Z,Z,0,0,0,Z,P,P],
  	  	  	[0,0,0,0,0,0,0,0,0,0,Z,Z,P,P,Z,Z,0,P,Z,Z,P,P],
  	  	  	[0,0,0,0,0,0,0,0,0,0,Z,Z,P,P,Z,0,P,P,Z,Z,P,P],
  	  	   [0,0,0,0,0,0,0,0,0,0,Z,Z,P,P,0,0,P,P,Z,Z,P,P],
  	  	  	[0,0,0,0,0,0,0,0,0,0,Z,Z,0,0,0,Z,P,P,Z,Z,P,P],
  	  	  	[0,0,0,0,0,0,0,0,0,0,Z,Z,0,P,Z,Z,P,P,Z,Z,P,P],//1
  	  	  	];
     gridcreate(mapZ)
     preview.grabBag = [4,6,4,6,4,6,4,6,4,6,4,6,4,6,4,6,4,6,4,6,4]


    }
    requirelines = 12
   }

  }
  if (piececolor == 5) {
   var P = 6
   if (setPattern == 0) {
    if (flip) {
     var P = 3
     var T = 6
     var W = 2
     var map = [
  		  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,0,0,0,T,P,P,T,T],
  		  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,0,0,0,0,P,P,T,T],
  		  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,0,W,T,T,P,P,T,T],
  		  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,W,W,T,T,P,P,T,T],
  		  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,W,W,T,T,P,P,T,T],
  		  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,W,W,T,T,P,P,T,T],
  		  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,W,W,T,T,P,P,T,T],
  		  		 [0,0,0,0,0,0,0,0,0,0,0,P,T,T,W,W,T,T,0,P,T,T],
  		  			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,W,W,T,T,0,0,0,0],
  		  			[0,0,0,0,0,0,0,0,0,0,0,0,0,T,W,W,T,T,0,0,0,T],
  		  			];


     preview.grabBag = [5,2,5,1,5,2,5,1,5,2,5,1,5,2,5,1,5,2,5,1,5]

     flipgridcreate(map)

    } else {
     var P = 2
     var T = 6
     var W = 3

     var map = [
  		  		  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,0,0,0,T,P,P,T,T],
  		  		  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,0,0,0,0,P,P,T,T],
  		  		  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,0,W,T,T,P,P,T,T],
  		  		  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,W,W,T,T,P,P,T,T],
  		  		  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,W,W,T,T,P,P,T,T],
  		  		  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,W,W,T,T,P,P,T,T],
  		  		  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,W,W,T,T,P,P,T,T],
  		  		  		 [0,0,0,0,0,0,0,0,0,0,0,P,T,T,W,W,T,T,0,P,T,T],
  		  		  			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,W,W,T,T,0,0,0,0],
  		  		  			[0,0,0,0,0,0,0,0,0,0,0,0,0,T,W,W,T,T,0,0,0,T],
  		  		  			];

     preview.grabBag = [5,1,5,2,5,1,5,2,5,1,5,2,5,1,5,2,5,1,5]


     gridcreate(map)

    }
    //	preview.grabBag = [5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5]
    requirelines = 12
   }
   if (setPattern == 1) {
    var map = [
  					[0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P,P,P],
  					[0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P,P,P],
  					[0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P,P,P,P,P],
  					[0,0,0,0,0,0,0,0,P,0,0,0,0,0,0,0,0,0,0,0,0,0],
  					[0,0,0,0,0,0,0,0,0,0,P,0,P,P,0,P,P,0,P,P,0,P],
  					[0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P,P,P],
  					[0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P,P,P],
  				 [0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P,P,P],
  					[0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P,P,P],
  					[0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P,P,P],
  					];
    if (!flip) { flipgridcreate(map) } else { gridcreate(map) }
    preview.grabBag = [5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5]

    requirelines = 12
   }

  }
 }

 if (difficulty >= 7 && difficulty < 10) {
  if (piececolor == 0) {
   if (setPattern == 0) {
    var map = [
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,1,0,0,0],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,1,1],
			 [0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,1,0,0,1],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1,1],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1],
				]
    if (flip) { flipgridcreate(map) } else { gridcreate(map) }
    preview.grabBag = [0,0,0,0,0,0,0,0,0,0,0,0,0,0]

    requirelines = 8
   }
   if (setPattern == 1) {
    var map = [
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,1],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,0,1,1,0],
			 [0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,0,1,1,0],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,0,1,1,1],
				[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,0,1,1,1],
				]
    if (flip) { flipgridcreate(map) } else { gridcreate(map) }
    preview.grabBag = [0,0,0,0,0,0,0,0,0,0,0,0,0,0]

    requirelines = 8
   }


  }
  {
   if (piececolor == 1) {
    if (setPattern == 0) {
     if (!flip) {
      var P = 2
      var mapJ = [
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,0],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,0],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,0,0],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,P,P,0,P,P,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,0,0,0,0,0,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,0,0,0,0,0,0,P,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,0,P,P,0,P,P,P],
 [0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P],
	];

      flipgridcreate(mapJ)
      preview.grabBag = [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]

     } else {
      var P = 3
      var mapL = [
						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,0],
						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,0],
						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,0,0],
						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,P,P,0,P,P,P,P],
						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,0,0,0,0,0,P,P],
						[0,0,0,0,0,0,0,0,0,0,0,0,P,0,0,0,0,0,0,P,P,P],
						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,0,P,P,0,P,P,P],
					 [0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P],
						];
      gridcreate(mapL)
      preview.grabBag = [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2]
     }
     requirelines = 10
    }
    if (setPattern == 1) {
     if (!flip) {
      var P = 2
      var mapJ = [
					[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P],
					[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P],
					[0,0,0,0,0,0,0,0,0,0,0,0,0,P,0,0,P,P,P,P,P,P],
					[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P],
					[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,0,P,P,0,0,0],
					[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,0,P,P],
					[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,0,0,P,P,P,P],
				 [0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P],
					[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,0,P,P,P],
					[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P],
					];

      gridcreate(mapJ)
      preview.grabBag = [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]

     } else {
      var P = 3
      var mapL = [
										[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P],
										[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P],
										[0,0,0,0,0,0,0,0,0,0,0,0,0,P,0,0,P,P,P,P,P,P],
										[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P],
										[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,0,P,P,0,0,0],
										[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,0,P,P],
										[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,0,0,P,P,P,P],
									 [0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P],
										[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,0,P,P,P],
										[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P],
										];
      flipgridcreate(mapL)
      preview.grabBag = [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2]
     }
     requirelines = 10
    }

   }
   if (piececolor == 2) {
    if (setPattern == 0) {
     if (!flip) {
      var P = 2
      var I = 3
      var mapJ = [
		[0,0,0,0,0,0,0,0,0,0,0,0,P,0,0,P,0,0,P,P,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,P,I,0,P,I,0,P,P,I,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,P,I,0,P,I,0,P,P,I,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,I,P,P,I,I],
		[0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,I,P,P,I,I],
		[0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,I,P,P,I,I],
		[0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,I,P,P,I,I],
	 [0,0,0,0,0,0,0,0,0,0,0,0,0,0,I,0,0,I,0,0,I,I],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,P,I,0,P,I,0,P,I,I],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,P,I,0,P,I,0,P,I,I],
		];

      flipgridcreate(mapJ)
      preview.grabBag = [1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2]

     } else {
      var P = 3
      var I = 2
      var mapL = [
							[0,0,0,0,0,0,0,0,0,0,0,0,P,0,0,P,0,0,P,P,0,0],
							[0,0,0,0,0,0,0,0,0,0,0,0,P,I,0,P,I,0,P,P,I,0],
							[0,0,0,0,0,0,0,0,0,0,0,0,P,I,0,P,I,0,P,P,I,0],
							[0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,I,P,P,I,I],
							[0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,I,P,P,I,I],
							[0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,I,P,P,I,I],
							[0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,I,P,P,I,I],
						 [0,0,0,0,0,0,0,0,0,0,0,0,0,0,I,0,0,I,0,0,I,I],
							[0,0,0,0,0,0,0,0,0,0,0,0,0,P,I,0,P,I,0,P,I,I],
							[0,0,0,0,0,0,0,0,0,0,0,0,0,P,I,0,P,I,0,P,I,I],
							];
      gridcreate(mapL)
      preview.grabBag = [2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1]
     }
     requirelines = 10
    }
    if (setPattern == 1) {
     if (!flip) {
      var P = 2
      var I = 3
      var mapJ = [
						[0,0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,P,0,0,I],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,P,P,0,I],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,0,I,I,P,I,P,P,0,I],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,0,I,I,0,0,0,P,I,I],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,I,0,P,P,P,I,I],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,P,I,0,P,0,P,P,I,I],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,P,I,0,P,0,0,0,I,I],
					 [0,0,0,0,0,0,0,0,0,0,0,0,0,P,0,0,P,I,P,P,I,0],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,P,P,I,0],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,P,P,0,0],
						];

      gridcreate(mapJ)
      preview.grabBag = [1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1]


     } else {
      var P = 3
      var I = 2
      var mapL = [
											[0,0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,P,0,0,I],
											[0,0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,P,P,0,I],
											[0,0,0,0,0,0,0,0,0,0,0,0,0,0,I,I,P,I,P,P,0,I],
											[0,0,0,0,0,0,0,0,0,0,0,0,0,0,I,I,0,0,0,P,I,I],
											[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,I,0,P,P,P,I,I],
											[0,0,0,0,0,0,0,0,0,0,0,0,0,P,I,0,P,0,P,P,I,I],
											[0,0,0,0,0,0,0,0,0,0,0,0,0,P,I,0,P,0,0,0,I,I],
										 [0,0,0,0,0,0,0,0,0,0,0,0,0,P,0,0,P,I,P,P,I,0],
											[0,0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,P,P,I,0],
											[0,0,0,0,0,0,0,0,0,0,0,0,0,P,I,I,P,I,P,P,0,0],
											];
      flipgridcreate(mapL)
      preview.grabBag = [2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1]

     }
     requirelines = 9
    }
   }
   if (piececolor == 3) {
    if (setPattern == 0) {
     if (!flip) {
      var P = 5 //green
      var mapS = [
						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,P,0,P,0,P],//10
						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,0,0,0,0,0],
						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,0,P,0,P,0],
						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P],
						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P],
						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P],
						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P],
					 [0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
						[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P],//1
						];

      flipgridcreate(mapS)
      preview.grabBag = [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4]

     } else {
      var P = 7 //red
      var mapZ = [
							[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,P,0,P,0,P],//10
							[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,0,0,0,0,0],
							[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,0,P,0,P,0],
							[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P],
							[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P],
							[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P],
							[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P],
						 [0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P],
							[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P],
							[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P],//1
							];
      gridcreate(mapZ)
      preview.grabBag = [6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]
     }
     requirelines = 10
    }
    if (setPattern == 1) {
     if (!flip) {
      var P = 5
      var mapS = [
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,0,0],//10
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,0,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,0,P,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,0,0,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,0,P,0,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,P,P,P,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,0,P,P,P,P,P,P],
 [0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,P,P,P,P,P,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P],//1
	];

      flipgridcreate(mapS)
      preview.grabBag = [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4]

     } else {
      var P = 7
      var mapZ = [
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,0,0],//10
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,0,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,0,P,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,0,0,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,0,P,0,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,P,P,P,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,0,P,P,P,P,P,P],
 [0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,P,P,P,P,P,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P],//1
	];
      gridcreate(mapZ)
      preview.grabBag = [6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]

     }
     requirelines = 10
    }

   }
   if (piececolor == 4) {
    if (setPattern == 0) {
     if (!flip) {
      var P = 5 //green
      var Z = 7 //red
      var mapS = [
  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,Z,0,Z,P,P],//10
  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,0,0,0,P,P],
  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,Z,0,Z,Z,P,P],
  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,Z,Z,Z,Z,P,P],
  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,Z,Z,Z,Z,0,0],
  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,Z,Z,Z,Z,0,P],
  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,Z,Z,Z,Z,P,P],
  					 [0,0,0,0,0,0,0,0,0,0,0,0,P,0,P,P,Z,Z,Z,Z,P,P],
  						[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,Z,Z,Z,Z,P,P],
  						[0,0,0,0,0,0,0,0,0,0,0,0,0,P,0,P,Z,Z,Z,Z,P,P],//1
  						];

      flipgridcreate(mapS)
      preview.grabBag = [4,4,6,6,4,4,6,6,4,4,6,6,4,4,6,6,4,4,6,6,4,4,6,6]

     } else {
      var P = 7 //red
      var Z = 5 //green
      var mapZ = [
  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,Z,0,Z,P,P],//0
  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,0,0,0,P,P],
  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,Z,0,Z,Z,P,P],
  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,Z,Z,Z,Z,P,P],
  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,Z,Z,Z,Z,0,0],
  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,Z,Z,Z,Z,0,P],
  						[0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,Z,Z,Z,Z,P,P],
  					 [0,0,0,0,0,0,0,0,0,0,0,0,P,0,P,P,Z,Z,Z,Z,P,P],
  						[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,Z,Z,Z,Z,P,P],
  						[0,0,0,0,0,0,0,0,0,0,0,0,0,P,0,P,Z,Z,Z,Z,P,P],//10
  						];

      gridcreate(mapZ)
      preview.grabBag = [6,6,4,4,6,6,4,4,6,6,4,4,6,6,4,4,6,6,4,4,6,6,4,4,6,6]
     }
     requirelines = 10
    }
    if (setPattern == 1) {
     if (!flip) {
      var P = 5
      var Z = 7
      var mapS = [
  	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,Z,Z,P,P,Z,Z,0,0],//10
  	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,Z,Z,P,P,Z,Z,0,P],
  	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,Z,Z,P,P,Z,0,P,P],
  	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,Z,Z,P,P,0,0,P,P],
  	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,Z,Z,0,0,0,Z,P,P],
  	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,Z,Z,0,P,Z,Z,P,P],
  	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,Z,P,P,Z,Z,P,P],
   [0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,0,P,P,Z,Z,P,P],
  	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,Z,Z,P,P,Z,Z,P,P],
  	[0,0,0,0,0,0,0,0,0,0,0,0,0,P,Z,Z,P,P,Z,Z,P,P],//1
  	];

      flipgridcreate(mapS)
      preview.grabBag = [4,6,4,6,4,6,4,6,4,6,4,6,4,6,4,6,4,6,4,6,4]



     } else {
      var P = 7
      var Z = 5
      var mapZ = [
  	  	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,Z,Z,P,P,Z,Z,0,0],//10
  	  	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,Z,Z,P,P,Z,Z,0,P],
  	  	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,Z,Z,P,P,Z,0,P,P],
  	  	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,Z,Z,P,P,0,0,P,P],
  	  	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,Z,Z,0,0,0,Z,P,P],
  	  	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,Z,Z,0,P,Z,Z,P,P],
  	  	[0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,Z,P,P,Z,Z,P,P],
  	   [0,0,0,0,0,0,0,0,0,0,0,0,P,P,0,0,P,P,Z,Z,P,P],
  	  	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,Z,Z,P,P,Z,Z,P,P],
  	  	[0,0,0,0,0,0,0,0,0,0,0,0,0,P,Z,Z,P,P,Z,Z,P,P],//1
  	  	];
      gridcreate(mapZ)
      preview.grabBag = [6,4,6,4,6,4,6,4,6,4,6,4,6,4,6,4,6,4,6,4,6,4]


     }
     requirelines = 10
    }

   }
   if (piececolor == 5) {
    if (setPattern == 0) {
     if (flip) {
      var P = 3
      var T = 6

      var map = [
  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,0,P,T,T,P,P,T,T],
  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,0,P,0,T,P,P,T,T],
  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,0,0,0,0,P,P,T,T],
  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,P,P,T,T,P,P,T,T],
  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,P,P,T,T,P,P,T,T],
  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,P,P,T,T,P,P,T,T],
  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,P,P,T,T,0,P,T,T],
  		 [0,0,0,0,0,0,0,0,0,0,0,P,T,T,P,P,T,T,0,P,0,T],
  			[0,0,0,0,0,0,0,0,0,0,0,P,0,T,P,P,T,T,0,0,0,0],
  			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,T,T,P,P,T,T],
  			];


      preview.grabBag = [2,5,2,5,2,5,2,5,2,5,2,5,2,5,2,5,2,5,2]

      flipgridcreate(map)

     } else {
      var P = 2
      var T = 6

      var map = [
  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,0,P,T,T,P,P,T,T],
  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,0,P,0,T,P,P,T,T],
  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,0,0,0,0,P,P,T,T],
  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,P,P,T,T,P,P,T,T],
  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,P,P,T,T,P,P,T,T],
  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,P,P,T,T,P,P,T,T],
  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,P,P,T,T,0,P,T,T],
  		 [0,0,0,0,0,0,0,0,0,0,0,P,T,T,P,P,T,T,0,P,0,T],
  			[0,0,0,0,0,0,0,0,0,0,0,P,0,T,P,P,T,T,0,0,0,0],
  			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,T,T,P,P,T,T],
  			];

      preview.grabBag = [1,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5]


      gridcreate(map)

     }
     //	preview.grabBag = [5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5]
     requirelines = 12
    }
    if (setPattern == 1) {
     if (flip) {
      var P = 3
      var T = 6

      /*	var map = [
        			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,0,P,T,T,P,P,T,T],
        			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,0,0,0,0,P,P,T,T],
        			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,0,0,0,T,P,P,T,T],
        			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,P,P,T,T,P,P,T,T],
        			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,P,P,T,T,P,P,T,T],
        			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,P,P,T,T,P,P,T,T],
        			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,P,P,T,T,P,P,T,T],
        		 [0,0,0,0,0,0,0,0,0,0,0,P,T,T,P,P,T,T,0,P,T,T],
        			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,T,T,0,0,0,0],
        			[0,0,0,0,0,0,0,0,0,0,0,0,0,T,P,P,T,T,0,0,0,T],
        			];/**/

      var map = [
  		  		  		  			[0,0,0,0,0,0,0,0,0,0,0,P,T,T,P,P,T,T,0,P,T,T],
  		  		  		  			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,T,T,0,0,0,0],
  		  		  		  			[0,0,0,0,0,0,0,0,0,0,0,0,0,T,P,P,T,T,0,0,0,T],
  		  		  		  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,P,P,T,T,P,P,T,T],
  		  		  		  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,P,P,T,T,P,P,T,T],
  		  		  		  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,P,P,T,T,P,P,T,T],
  		  		  		  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,P,P,T,T,P,P,T,T],
  		  		  		  		 [0,0,0,0,0,0,0,0,0,0,P,P,T,T,0,P,T,T,P,P,T,T],
  		  		  		  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,0,0,0,0,T,T,T,T],
  		  		  		  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,0,0,0,T,T,T,T,T],
  		  		  		  			]; /**/

      preview.grabBag = [5,2,5,2,5,2,5,2,5,2,5,2,5,2,5,2,5,2,5,2]

      flipgridcreate(map)

     } else {
      var P = 2
      var T = 6

      var map = [
  		  		  			  		  		  		  			[0,0,0,0,0,0,0,0,0,0,0,P,T,T,P,P,T,T,0,P,T,T],
  		  		  			  		  		  		  			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,T,T,0,0,0,0],
  		  		  			  		  		  		  			[0,0,0,0,0,0,0,0,0,0,0,0,0,T,P,P,T,T,0,0,0,T],
  		  		  			  		  		  		  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,P,P,T,T,P,P,T,T],
  		  		  			  		  		  		  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,P,P,T,T,P,P,T,T],
  		  		  			  		  		  		  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,P,P,T,T,P,P,T,T],
  		  		  			  		  		  		  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,P,P,T,T,P,P,T,T],
  		  		  			  		  		  		  		 [0,0,0,0,0,0,0,0,0,0,P,P,T,T,0,P,T,T,P,P,T,T],
  		  		  			  		  		  		  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,0,0,0,0,T,T,T,T],
  		  		  			  		  		  		  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,0,0,0,T,T,T,T,T],
  		  		  			  		  		  		  			]; /**/

      /*	var map = [
      	  		  		  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,0,P,T,T,P,P,T,T],
      	  		  		  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,0,0,0,0,P,P,T,T],
      	  		  		  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,0,0,0,T,P,P,T,T],
      	  		  		  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,P,P,T,T,P,P,T,T],
      	  		  		  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,P,P,T,T,P,P,T,T],
      	  		  		  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,P,P,T,T,P,P,T,T],
      	  		  		  			[0,0,0,0,0,0,0,0,0,0,P,P,T,T,P,P,T,T,P,P,T,T],
      	  		  		  		 [0,0,0,0,0,0,0,0,0,0,0,P,T,T,P,P,T,T,0,P,T,T],
      	  		  		  			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,T,T,0,0,0,0],
      	  		  		  			[0,0,0,0,0,0,0,0,0,0,0,0,0,T,P,P,T,T,0,0,0,T],
      	  		  		  			]; /**/

      preview.grabBag = [5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5]


      gridcreate(map)

     }
     //	preview.grabBag = [5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5]
     requirelines = 12
    }

   }
  }
 }

 if (difficulty >= 13) {
  if (piececolor == 0) {
   var P = 1
   if (setPattern == 0) {

    var map = [
					[0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,0,P,P,P,P,P,P],
					[0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,0,P,P,P,P,P,P],
					[0,0,0,0,0,0,0,0,0,0,P,0,0,P,0,0,0,P,P,P,P,P],
					[0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,0,P,P,0,P,P,P],
					[0,0,0,0,0,0,0,0,0,0,P,P,P,P,0,P,0,0,0,0,P,P],
					[0,0,0,0,0,0,0,0,0,0,P,P,P,0,P,P,P,P,0,P,P,P],
					[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,0,P,0,P],
				 [0,0,0,0,0,0,0,0,0,0,P,P,P,0,P,P,P,P,P,P,0,P],
					[0,0,0,0,0,0,0,0,0,0,P,P,P,0,P,P,0,0,P,0,0,0],
					[0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P,0,P],
					];
    if (flip) { flipgridcreate(map) } else { gridcreate(map) }
    preview.grabBag = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]

    requirelines = 12
   }
   if (setPattern == 1) {
    var map = [
							[0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P,P,P],
							[0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,0,P,P,P,P,P,P],
							[0,0,0,0,0,0,0,0,0,0,P,0,0,P,0,0,0,P,0,P,P,P],
							[0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,0,P,P,0,P,P,P],
							[0,0,0,0,0,0,0,0,0,0,P,P,P,0,0,0,0,0,0,0,P,P],
							[0,0,0,0,0,0,0,0,0,0,P,P,P,0,P,P,P,P,0,P,P,P],
							[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,0,P],
						 [0,0,0,0,0,0,0,0,0,0,P,P,P,0,P,P,P,P,P,P,0,P],
							[0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,0,0,P,0,0,0],
							[0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P,0,P],
							];
    if (flip) { flipgridcreate(map) } else { gridcreate(map) }
    preview.grabBag = [0,0,0,0,0,0,0,0,0,0,0,0,0,0]

    requirelines = 12
   }


  }


  if (piececolor == 1) {
   if (setPattern == 0) {
    if (!flip) {
     var P = 2
     var mapJ = [
					  							[0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P,P,P],
					  							[0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P,P,P],
					  							[0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P,P,P],
					  							[0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P,P,P,P],
					  							[0,0,0,0,0,0,0,0,P,0,0,0,0,0,0,0,0,0,0,0,0,0],
					  							[0,0,0,0,0,0,0,0,0,0,P,P,0,P,P,0,P,P,0,P,P,0],
					  							[0,0,0,0,0,0,0,0,0,0,P,0,P,P,0,P,P,0,P,P,P,P],
					  						 [0,0,0,0,0,0,0,0,0,0,P,0,P,P,0,P,P,0,P,P,P,P],
					  							[0,0,0,0,0,0,0,0,0,0,0,0,P,0,0,P,0,0,P,P,P,P],
					  							[0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P,P,P],
					  							];

     flipgridcreate(mapJ)
     preview.grabBag = [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]

    } else {
     var P = 3
     var mapL = [
										  							[0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P,P,P],
										  							[0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P,P,P],
										  							[0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P,P,P],
										  							[0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P,P,P,P],
										  							[0,0,0,0,0,0,0,0,P,0,0,0,0,0,0,0,0,0,0,0,0,0],
										  							[0,0,0,0,0,0,0,0,0,0,P,P,0,P,P,0,P,P,0,P,P,0],
										  							[0,0,0,0,0,0,0,0,0,0,P,0,P,P,0,P,P,0,P,P,P,P],
										  						 [0,0,0,0,0,0,0,0,0,0,P,0,P,P,0,P,P,0,P,P,P,P],
										  							[0,0,0,0,0,0,0,0,0,0,0,0,P,0,0,P,0,0,P,P,P,P],
										  							[0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P,P,P],
										  							];
     gridcreate(mapL)
     preview.grabBag = [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2]
    }
    requirelines = 10
   }
   if (setPattern == 1) {
    if (!flip) {
     var P = 3
     var mapJ = [
																  	[0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P,P,P,P,P],
										  							[0,0,0,0,0,0,0,0,P,0,P,0,0,0,P,P,P,0,0,0,P,P],
										  							[0,0,0,0,0,0,0,0,0,0,P,P,P,0,P,P,P,P,P,0,P,P],
										  							[0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P,P,P],
										  							[0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P,P,P,P,P],
										  							[0,0,0,0,0,0,0,0,P,0,0,0,0,0,0,0,0,0,0,0,0,0],
										  							[0,0,0,0,0,0,0,0,0,0,P,P,0,P,P,0,P,P,0,P,P,0],
										  							[0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P,P,0],
																  	[0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P,P,0],
																  	[0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,0,P,0],
										  							];

     gridcreate(mapJ)
     preview.grabBag = [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2]

    } else {
     var P = 2
     var mapL = [
																  	[0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P,P,P,P,P],
										  							[0,0,0,0,0,0,0,0,P,0,P,0,0,0,P,P,P,0,0,0,P,P],
										  							[0,0,0,0,0,0,0,0,0,0,P,P,P,0,P,P,P,P,P,0,P,P],
										  							[0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P,P,P],
										  							[0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P,P,P,P,P],
										  							[0,0,0,0,0,0,0,0,P,0,0,0,0,0,0,0,0,0,0,0,0,0],
										  							[0,0,0,0,0,0,0,0,0,0,P,P,0,P,P,0,P,P,0,P,P,0],
										  							[0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P,P,0],
																  	[0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,P,P,0],
																  	[0,0,0,0,0,0,0,0,0,0,P,P,P,P,P,P,P,P,P,0,P,0],


										  							];
     flipgridcreate(mapL)
     preview.grabBag = [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]


    }
    requirelines = 12
   }

  }
  if (piececolor == 2) {
   if (setPattern == 0) {
    if (!flip) {
     var P = 3
     var I = 2
     var mapJ = [
	[0,0,0,0,0,0,0,0,0,I,I,I,P,P,P,I,P,P,I,P,P,I],
	[0,0,0,0,0,0,0,0,I,0,0,0,0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0,I,I,0,P,P,0,P,P,0,P,P,0],
	[0,0,0,0,0,0,0,0,0,0,I,I,P,P,P,I,P,P,I,P,P,I],
	[0,0,0,0,0,0,0,0,0,0,I,I,P,P,P,I,P,P,I,P,P,I],
	[0,0,0,0,0,0,0,0,0,0,I,I,P,P,P,I,P,P,I,P,P,I],
	[0,0,0,0,0,0,0,0,0,0,I,I,P,P,P,I,P,P,I,P,P,I],
 [0,0,0,0,0,0,0,0,0,0,I,I,P,P,0,I,P,0,I,P,0,I],
	[0,0,0,0,0,0,0,0,P,0,I,I,0,0,0,0,0,0,0,0,0,I],
	[0,0,0,0,0,0,0,0,0,P,I,I,P,P,P,I,P,P,I,P,P,I],
	];
     flipgridcreate(mapJ)
     preview.grabBag = [1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2]

    } else {
     var P = 2
     var I = 3
     var mapL = [
						[0,0,0,0,0,0,0,0,0,I,I,I,P,P,P,I,P,P,I,P,P,I],
						[0,0,0,0,0,0,0,0,I,0,0,0,0,0,0,0,0,0,0,0,0,0],
						[0,0,0,0,0,0,0,0,0,0,I,I,0,P,P,0,P,P,0,P,P,0],
						[0,0,0,0,0,0,0,0,0,0,I,I,P,P,P,I,P,P,I,P,P,I],
						[0,0,0,0,0,0,0,0,0,0,I,I,P,P,P,I,P,P,I,P,P,I],
						[0,0,0,0,0,0,0,0,0,0,I,I,P,P,P,I,P,P,I,P,P,I],
						[0,0,0,0,0,0,0,0,0,0,I,I,P,P,P,I,P,P,I,P,P,I],
					 [0,0,0,0,0,0,0,0,0,0,I,I,P,P,0,I,P,0,I,P,0,I],
						[0,0,0,0,0,0,0,0,P,0,I,I,0,0,0,0,0,0,0,0,0,I],
						[0,0,0,0,0,0,0,0,0,P,I,I,P,P,P,I,P,P,I,P,P,I],
						];
     gridcreate(mapL)
     preview.grabBag = [2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1]
    }
    requirelines = 12
   }
   if (setPattern == 1) {
    if (!flip) {
     var P = 2
     var I = 3
     var mapJ = [
							[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
							[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
							[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
							[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
							[0,0,0,0,0,I,0,P,P,P,I,I,0,P,P,P,I,I,0,P,P,P],
							[0,0,0,0,0,P,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
							[0,0,0,0,0,0,0,P,P,0,I,I,I,P,P,0,I,I,I,P,P,0],
						 [0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
							[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
							[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
							];

     flipgridcreate(mapJ)
     preview.grabBag = [1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1]


    } else {
     var P = 3
     var I = 2
     var mapL = [
													[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
													[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
													[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
													[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
													[0,0,0,0,0,I,0,P,P,P,I,I,0,P,P,P,I,I,0,P,P,P],
													[0,0,0,0,0,P,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
													[0,0,0,0,0,0,0,P,P,0,I,I,I,P,P,0,I,I,I,P,P,0],
												 [0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
													[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
													[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
													];

     gridcreate(mapL)
     preview.grabBag = [2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1]

    }
    requirelines = 15
   }
  }
  if (piececolor == 3) {
   if (setPattern == 0) {
    if (!flip) {
     var P = 5
     var I = 5 //green
     var mapS = [
																			[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
																			[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
																			[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
																			[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
																			[0,0,0,0,0,0,P,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
																			[0,0,0,0,0,0,0,P,0,0,I,0,0,P,0,0,I,0,0,P,0,0],
																			[0,0,0,0,0,0,0,0,0,P,0,0,I,0,0,P,0,0,I,0,0,P],
																		 [0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
																			[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
																			[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
																			];

     flipgridcreate(mapS)
     preview.grabBag = [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4]

    } else {
     var P = 7
     var I = 7 //red
     var mapZ = [
																				[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
																				[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
																				[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
																				[0,0,0,0,0,0,P,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
																				[0,0,0,0,0,0,0,P,0,0,I,0,0,P,0,0,I,0,0,P,0,0],
																				[0,0,0,0,0,0,0,0,0,P,0,0,I,0,0,P,0,0,I,0,0,P],
																			 [0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
																				[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
																				[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
																				[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],

																				];

     gridcreate(mapZ)
     preview.grabBag = [6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]
    }
    requirelines = 15
   }
   if (setPattern == 1) {
    if (!flip) {
     var P = 5
     var I = 5 //green
     var mapS = [
																			[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
																			[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
																			[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
																			[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
																			[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
																			[0,0,0,0,0,0,0,P,0,0,I,0,0,P,0,0,I,0,0,P,0,0],
																			[0,0,0,0,0,P,0,0,0,P,0,0,I,0,0,P,0,0,I,0,0,P],
																		 [0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
																			[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
																			[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
																			];

     flipgridcreate(mapS)
     preview.grabBag = [4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4]

    } else {
     var P = 7
     var I = 7 //green
     var mapZ = [
																			[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
																			[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
																			[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
																			[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
																			[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
																			[0,0,0,0,0,0,0,P,0,0,I,0,0,P,0,0,I,0,0,P,0,0],
																			[0,0,0,0,0,P,0,0,0,P,0,0,I,0,0,P,0,0,I,0,0,P],
																		 [0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
																			[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
																			[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
																			];
     gridcreate(mapZ)
     preview.grabBag = [6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]

    }
    requirelines = 15
   }

  }
  if (piececolor == 4) {
   if (setPattern == 0) {
    if (!flip) {
     var P = 5 //g
     var I = 7 //
     var mapS = [
																			[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
																			[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
																			[0,0,0,0,0,0,0,P,P,P,0,0,I,P,P,P,0,0,I,P,P,P],
																			[0,0,0,0,0,0,0,P,P,P,I,0,0,P,P,P,I,0,0,P,P,P],
																			[0,0,0,0,0,0,P,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
																			[0,0,0,0,0,0,0,P,0,0,I,I,I,P,0,0,I,I,I,P,0,0],
																			[0,0,0,0,0,0,0,0,0,P,I,I,I,0,0,P,I,I,I,0,0,P],
																		 [0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
																			[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
																			[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
																			];

     flipgridcreate(mapS)
     preview.grabBag = [4,6,4,6,4,6,4,6,4,6,4,6,4,6,4,6,4,6,4,6,4]

    } else {
     var P = 7 //
     var I = 5 //
     var mapZ = [
  																						[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
  																						[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
  																						[0,0,0,0,0,0,0,P,P,P,0,0,I,P,P,P,0,0,I,P,P,P],
  																						[0,0,0,0,0,0,0,P,P,P,I,0,0,P,P,P,I,0,0,P,P,P],
  																						[0,0,0,0,0,0,P,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
  																						[0,0,0,0,0,0,0,P,0,0,I,I,I,P,0,0,I,I,I,P,0,0],
  																						[0,0,0,0,0,0,0,0,0,P,I,I,I,0,0,P,I,I,I,0,0,P],
  																					 [0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
  																						[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
  																						[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
  																						];

     gridcreate(mapZ)
     preview.grabBag = [6,4,6,4,6,4,6,4,6,4,6,4,6,4,6,4,6,4,6,4]
    }
    requirelines = 15
   }
   if (setPattern == 1) {
    if (!flip) {
     var P = 5
     var I = 7
     var mapS = [
  																			[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
  																			[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
  																			[0,0,0,0,0,I,0,P,P,P,0,0,I,P,P,P,0,0,I,P,P,P],
  																			[0,0,0,0,0,0,0,P,P,P,I,0,0,P,P,P,I,0,0,P,P,P],
  																			[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
  																			[0,0,0,0,0,0,0,P,0,0,I,I,I,P,0,0,I,I,I,P,0,0],
  																			[0,0,0,0,0,P,0,0,0,P,I,I,I,0,0,P,I,I,I,0,0,P],
  																		 [0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
  																			[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
  																			[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
  																			];
     flipgridcreate(mapS)
     preview.grabBag = [4,6,4,6,4,6,4,6,4,6,4,6,4,6,4,6,4,6,4,6,4]



    } else {
     var P = 7
     var I = 5
     var mapZ = [
  	  	  	  																			[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
  	  	  	  																			[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
  	  	  	  																			[0,0,0,0,0,I,0,P,P,P,0,0,I,P,P,P,0,0,I,P,P,P],
  	  	  	  																			[0,0,0,0,0,0,0,P,P,P,I,0,0,P,P,P,I,0,0,P,P,P],
  	  	  	  																			[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
  	  	  	  																			[0,0,0,0,0,0,0,P,0,0,I,I,I,P,0,0,I,I,I,P,0,0],
  	  	  	  																			[0,0,0,0,0,P,0,0,0,P,I,I,I,0,0,P,I,I,I,0,0,P],
  	  	  	  																		 [0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
  	  	  	  																			[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
  	  	  	  																			[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
  	  	  	  																			];
     gridcreate(mapZ)
     preview.grabBag = [6,4,6,4,6,4,6,4,6,4,6,4,6,4,6,4,6,4,6,4]


    }
    requirelines = 15
   }

  }
  if (piececolor == 5) {


   if (setPattern == 1) {
    var P = 6
    var I = P
    var map = [
    																[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
    																[0,0,0,0,0,0,P,P,P,0,I,I,I,P,0,P,I,I,I,0,P,P],
    																[0,0,0,0,0,P,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    																[0,0,0,0,0,0,0,P,0,0,I,I,I,0,0,P,I,I,0,0,P,P],
    																[0,0,0,0,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
    																[0,0,0,P,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
    																[0,0,0,P,0,0,P,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
    															 [0,0,0,P,0,0,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,0],
    																[0,0,0,P,0,P,0,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
    																[0,0,0,P,P,P,P,P,P,P,I,I,I,P,P,P,I,I,I,P,P,P],
    																];

    if (!flip) { flipgridcreate(map) } else { gridcreate(map) }
    preview.grabBag = [5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5]
    requirelines = 15
   }
   if (setPattern == 0) {
    if (!flip) {
     var P = 6
     var I = 7
     var mapZ = [
    	      																		[0,0,0,0,0,P,P,P,P,P,P,P,P,I,I,I,I,P,P,P,P,P],
    	      																		[0,0,0,0,0,P,0,P,P,P,0,0,0,I,I,0,0,0,P,P,0,P],
    	      																		[0,0,0,0,0,0,0,P,P,P,P,0,P,I,I,I,0,0,0,P,0,0],
    	      																		[0,0,0,0,0,0,0,P,P,P,P,P,P,I,I,I,0,0,0,0,P,P],
    	      																		[0,0,0,0,0,0,0,P,P,P,P,P,P,I,I,0,0,P,P,P,P,P],
    	      																		[0,0,0,0,0,0,0,P,P,P,P,P,P,I,I,0,I,P,P,P,P,P],
    	      																		[0,0,0,0,0,0,0,P,P,P,P,P,P,I,0,I,I,P,P,P,P,P],
    	      																	 [0,0,0,0,0,0,0,P,0,P,0,P,P,0,0,I,I,P,P,P,P,P],
    	      																		[0,0,0,0,0,P,0,0,0,0,0,0,P,0,I,I,I,P,P,P,P,P],
    	      																		[0,0,0,0,0,P,P,P,0,P,P,P,P,I,I,I,I,P,P,P,P,P],
    	      																		];
     flipgridcreate(mapZ)
     preview.grabBag = [5,5,5,6,5,5,5,6,5,5,5,6,5,5,5,6,5,5,5,6]

    } else {
     var P = 6
     var I = 5
     var mapS = [
         	      																		[0,0,0,0,0,P,P,P,P,P,P,P,P,I,I,I,I,P,P,P,P,P],
         	      																		[0,0,0,0,0,P,0,P,P,P,0,0,0,I,I,0,0,0,P,P,0,P],
         	      																		[0,0,0,0,0,0,0,P,P,P,P,0,P,I,I,I,0,0,0,P,0,0],
         	      																		[0,0,0,0,0,0,0,P,P,P,P,P,P,I,I,I,0,0,0,0,P,P],
         	      																		[0,0,0,0,0,0,0,P,P,P,P,P,P,I,I,0,0,P,P,P,P,P],
         	      																		[0,0,0,0,0,0,0,P,P,P,P,P,P,I,I,0,I,P,P,P,P,P],
         	      																		[0,0,0,0,0,0,0,P,P,P,P,P,P,I,0,I,I,P,P,P,P,P],
         	      																	 [0,0,0,0,0,0,0,P,0,P,0,P,P,0,0,I,I,P,P,P,P,P],
         	      																		[0,0,0,0,0,P,0,0,0,0,0,0,P,0,I,I,I,P,P,P,P,P],
         	      																		[0,0,0,0,0,P,P,P,0,P,P,P,P,I,I,I,I,P,P,P,P,P],
         	      																		];
      gridcreate(mapS)
     preview.grabBag = [5,5,5,4,5,5,5,4,5,5,5,4,5,5,5,4,5,5,5,4]

    }
    requirelines = 15

   }

  }
 }


 stack.draw()
 preview.draw()
}
/*var map = [
    																		[0,0,0,0,P,P,P,P,P,P,P,P,I,I,I,I,P,P,P,P,P,P],
    																		[0,0,0,0,P,0,P,P,P,0,0,0,I,I,0,0,0,P,P,P,0,P],
    																		[0,0,0,0,0,0,P,P,P,P,0,P,I,I,I,0,0,0,P,P,0,0],
    																		[0,0,0,0,0,0,P,P,P,P,P,P,I,I,I,0,0,0,0,P,P,P],
    																		[0,0,0,0,0,0,P,P,P,P,P,P,I,I,0,0,P,P,P,P,P,P],
    																		[0,0,0,0,0,0,P,P,P,P,P,P,I,I,0,I,P,P,P,P,P,P],
    																		[0,0,0,0,0,0,P,P,P,P,P,P,I,0,I,I,P,P,P,P,P,P],
    																	 [0,0,0,0,P,0,P,0,P,0,P,P,0,0,I,I,P,P,P,P,P,P],
    																		[0,0,0,0,P,0,0,0,0,0,0,P,0,I,I,I,P,P,P,P,P,P],
    																		[0,0,0,0,P,P,P,0,P,P,P,P,I,I,I,I,P,P,P,P,P,P],
    																		],*/

/*
	gridcreate([
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
 [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
	])
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
	*/


function gridcreate(array = Array) {
 stack.grid = array
}

function flipgridcreate(array = Array) {
 var arrayToFlip = array
 for (var x = 9; x > -1; x--) {
  for (var y = 0; y < 22; y++) {
   stack.grid[x][y] = arrayToFlip[9 - x][y]
  }
 }


}
var setPattern,piececolor,flip
var varseqvoice = 0
var requirelines = 0
var failToClear = false
var ClearSuccess = false
